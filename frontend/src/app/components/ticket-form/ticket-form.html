<div class="form-container">
  <h1>{{ isEditMode ? 'Editar Ticket' : 'Crear Nuevo Ticket' }}</h1>

  <form (ngSubmit)="saveTicket()" #ticketForm="ngForm">
    <div class="form-group">
      <label for="title">Título</label>
      <input type="text" id="title" name="title" [(ngModel)]="ticket.title" required>
    </div>

    <div class="form-group">
      <label for="description">Descripción</label>
      <textarea id="description" name="description" [(ngModel)]="ticket.description" rows="5" required></textarea>
    </div>

    <div class="form-group">
      <label for="status">Estado</label>
      <select id="status" name="status" [(ngModel)]="ticket.status">
        <option value="PENDING">Pendiente</option>
        <option value="IN_PROGRESS">En Curso</option>
        <option value="CLOSED">Cerrado</option>
      </select>
    </div>

    <div class="form-group">
      <label for="priority">Prioridad</label>
      <select id="priority" name="priority" [(ngModel)]="ticket.priority">
        <option value="LOW">Baja</option>
        <option value="MEDIUM">Media</option>
        <option value="HIGH">Alta</option>
      </select>
    </div>

    <div class="form-group">
      <label for="technician">Técnico Asignado</label>
      <select id="technician" name="technician" [(ngModel)]="ticket.assignedTechnicianId">
        <option [ngValue]="undefined">Sin asignar</option>
        <option *ngFor="let tech of technicians" [value]="tech.id">{{ tech.name }}</option>
      </select>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="!ticketForm.form.valid">Guardar</button>
      <button type="button" (click)="cancel()" class="btn btn-light">Cancelar</button>
    </div>
  </form>
</div>
